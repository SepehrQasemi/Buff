[
  {
    "id": "rsi_wilder_14",
    "name": "RSI",
    "category": "momentum",
    "description": "Relative Strength Index with Wilder smoothing.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 14,
        "constraints": "period > 0"
      }
    },
    "formula": "RSI uses Wilder smoothing of gains and losses over period=14.",
    "output": "rsi",
    "warmup": {
      "candles": 14
    },
    "nan_policy": {
      "before_warmup": "NaN",
      "division_by_zero": "avg_loss==0 => 100"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:relative_strength_index_rsi"
    ]
  },
  {
    "id": "ema_20",
    "name": "EMA",
    "category": "trend",
    "description": "Exponential Moving Average.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 20,
        "constraints": "period > 0"
      }
    },
    "formula": "alpha=2/(period+1); ema_t=alpha*close_t+(1-alpha)*ema_{t-1}; initial ema at first valid = SMA of first period candles",
    "output": "ema",
    "warmup": {
      "candles": 20,
      "output_valid_from": 20
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:exponential_moving_average"
    ]
  },
  {
    "id": "atr_wilder_14",
    "name": "ATR",
    "category": "volatility",
    "description": "Average True Range with Wilder smoothing.",
    "inputs": [
      "high",
      "low",
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 14,
        "constraints": "period > 0"
      }
    },
    "formula": "TR_t=max(high_t-low_t, abs(high_t-close_{t-1}), abs(low_t-close_{t-1})); ATR initial=SMA(TR, period); atr_t=(atr_{t-1}*(period-1)+tr_t)/period",
    "output": "atr",
    "warmup": {
      "candles": 14
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling; TR must be computed on resampled data"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:average_true_range_atr"
    ]
  },
  {
    "id": "sma_20",
    "name": "SMA",
    "category": "trend",
    "description": "Simple Moving Average.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 20,
        "constraints": "period > 0"
      }
    },
    "formula": "SMA_t = mean(close_{t-period+1}..close_t) with min_periods=period",
    "output": "sma",
    "warmup": {
      "candles": 20
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:moving_averages"
    ]
  },
  {
    "id": "std_20",
    "name": "StdDev",
    "category": "volatility",
    "description": "Rolling standard deviation with population ddof=0.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 20,
        "constraints": "period > 0"
      },
      "ddof": {
        "type": "int",
        "default": 0,
        "constraints": "ddof >= 0"
      }
    },
    "formula": "StdDev_t = std(close_{t-period+1}..close_t) with ddof=0 and min_periods=period",
    "output": "std",
    "warmup": {
      "candles": 20
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:standard_deviation_volatility"
    ]
  },
  {
    "id": "bbands_20_2",
    "name": "BollingerBands",
    "category": "volatility",
    "description": "Bollinger Bands with SMA midline and ddof=0.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "period": {
        "type": "int",
        "default": 20,
        "constraints": "period > 0"
      },
      "k": {
        "type": "float",
        "default": 2.0,
        "constraints": "k > 0"
      },
      "ddof": {
        "type": "int",
        "default": 0,
        "constraints": "ddof >= 0"
      }
    },
    "formula": "mid=SMA(period); sd=StdDev(period, ddof=0); upper=mid+k*sd; lower=mid-k*sd",
    "output": "bbands",
    "warmup": {
      "candles": 20
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_bands"
    ]
  },
  {
    "id": "macd_12_26_9",
    "name": "MACD",
    "category": "trend",
    "description": "Moving Average Convergence Divergence.",
    "inputs": [
      "close"
    ],
    "parameters": {
      "fast": {
        "type": "int",
        "default": 12,
        "constraints": "fast > 0"
      },
      "slow": {
        "type": "int",
        "default": 26,
        "constraints": "slow > fast"
      },
      "signal": {
        "type": "int",
        "default": 9,
        "constraints": "signal > 0"
      }
    },
    "formula": "macd=EMA(fast)-EMA(slow); signal=EMA(macd, signal); hist=macd-signal",
    "output": "macd",
    "warmup": {
      "candles": 34
    },
    "nan_policy": {
      "before_warmup": "NaN"
    },
    "resample_policy": {
      "rule": "compute after resampling"
    },
    "lookahead_policy": false,
    "references": [
      "https://school.stockcharts.com/doku.php?id=technical_indicators:moving_average_convergence_divergence_macd"
    ]
  }
]
